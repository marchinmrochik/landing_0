<!DOCTYPE html>
<html>
<head>
	<title>HCT CK</title>
	<meta charset="utf-8">

	<link href="https://fonts.googleapis.com/css?family=Raleway:300,400,500,600,700,800,900" rel="stylesheet">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css">
	<link rel="stylesheet" href="src/css/slick-theme.css">
	<link rel="stylesheet" href="src/css/slick.css">
	<link rel="stylesheet" type="text/css" href="src/css/style.css">

	<script
			src="https://code.jquery.com/jquery-3.3.1.min.js"
			integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
			crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js"></script>
	<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js"></script>
	<script src="src/js/slick.min.js"></script>
	<!-- Yandex.Metrika informer -->
	<a href="https://metrika.yandex.ru/stat/?id=52780912&amp;from=informer"
	   target="_blank" rel="nofollow"><img src="https://informer.yandex.ru/informer/52780912/3_1_202020FF_000000FF_1_pageviews"
										   style="width:88px; height:31px; border:0;" alt="Яндекс.Метрика" title="Яндекс.Метрика: данные за сегодня (просмотры, визиты и уникальные посетители)" class="ym-advanced-informer" data-cid="52780912" data-lang="ru" /></a>
	<!-- /Yandex.Metrika informer -->

	<!-- Yandex.Metrika counter -->
	<script type="text/javascript" >
        (function(m,e,t,r,i,k,a){m[i]=m[i]||function(){(m[i].a=m[i].a||[]).push(arguments)};
            m[i].l=1*new Date();k=e.createElement(t),a=e.getElementsByTagName(t)[0],k.async=1,k.src=r,a.parentNode.insertBefore(k,a)})
        (window, document, "script", "https://mc.yandex.ru/metrika/tag.js", "ym");

        ym(52780912, "init", {
            clickmap:true,
            trackLinks:true,
            accurateTrackBounce:true,
            webvisor:true,
            trackHash:true,
            ecommerce:"dataLayer"
        });
	</script>
	<noscript><div><img src="https://mc.yandex.ru/watch/52780912" style="position:absolute; left:-9999px;" alt="" /></div></noscript>
	<!-- /Yandex.Metrika counter -->
	<script>
        var _emv = _emv || [];
        _emv['campaign'] = '49844ba129a1cb4542d2e436';

        (function() {
            var em = document.createElement('script'); em.type = 'text/javascript'; em.async = true;
            em.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'leadback.ru/js/leadback.js';
            var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(em, s);
        })();
	</script>
	<!-- Marquiz script start -->
	<script src="//script.marquiz.ru/v1.js" type="application/javascript"></script>
	<script>
        document.addEventListener("DOMContentLoaded", function() {
            Marquiz.init({
                id: '5c7a346c2421ab0044839b60',
                autoOpen: false,
                autoOpenFreq: 'once',
                openOnExit: true
            });
        });
	</script>
	<!-- Marquiz script end -->

</head>
<body>
<div class="header">
	<div class="header-part-1">
		<div class="container">
			<div class="row d-flex justify-content-between align-items-center py-3">
				<div class="d-flex align-items-center">
					<div class="d-flex d-flex align-items-center">
						<div class="ic-marker-white mr-3"></div>
						<div class="header-p1_text text-white">г. Муром ул. Чкалова, дом 4</div>
					</div>
					<div class="white_line mx-4"></div>
					<div class="d-flex d-flex align-items-center">
						<div class="ic-time-white mr-3"></div>
						<div class="header-p1_text text-white">Пн. - Сб. 8:00 - 19:00 Воскресенье ( Выходной )</div>
					</div>
					<div class="white_line mx-4"></div>
					<div class="d-flex d-flex align-items-center">
						<div class="ic-fb-white mr-3"></div>
						<div class="ic-vk-red mr-3"></div>
						<div class="ic-inst-white"></div>
					</div>
				</div>
				<div class="d-flex d-flex align-items-center">
					<a class="phone-number scarlet_color header-p1_text" href="tel:+380676307977" itemprop="telephone"
					   content="+7 910 099 38 81">+7 910 099 38 81</a>
				</div>
			</div>
		</div>
	</div>
	<div сlass="header-part-2">
		<div class="container">
			<div class="row d-flex justify-content-between align-items-center py-2">
				<a href="index.php" class="logo"></a>
				<div class="d-flex align-items-center">
					<a class="header-p2_link gray-dark_color " href="service.html">УСЛУГИ</a>
					<a class="header-p2_link gray-dark_color ml-4" href="#popup:marquiz_5c7a346c2421ab0044839b60">ПРОСЧИТАТЬ ПРОЕКТ</a>
					<a class="header-p2_link gray-dark_color ml-4" href="price.html">О ЦЕНАХ</a>
					<a class="header-p2_link gray-dark_color ml-4" href="home.html#about-our">О НАС</a>
					<a class="header-p2_link gray-dark_color ml-4" href="our_work.html">НАШИ РАБОТЫ</a>
					<a class="header-p2_link gray-dark_color scarlet_color ml-4" href="catalog.html">КАТАЛОГ</a>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="container section-catalog mb-5 ">
	<div class="row block_sliders">
		<div class="col-12 mt-4 mb-5 pb-5 d-flex justify-content-center align-items-center block-tab-home">
			<button class="gray-dark_color px-3 py-2 btn-up-to-100 active">Дома до <span class="number">100  м<sup>2</sup></span></button>
			<button class="gray-dark_color mx-3 px-3 py-2 btn-up-to-200">Дома до <span class="number">200  м<sup>2</sup></span></button>
			<button class="gray-dark_color px-3 py-2 btn-from-200">Дома от <span class="number">200  м<sup>2</sup></span></button>
		</div>
	</div>
	<div class="row">
		<div class="col-12 d-flex justify-content-center align-items-center mt-5">
			<!--<button class="btn_our-house btn-left px-3 py-2 mr-4">Назад</button>-->
			<!--<button class="btn_our-house btn-right px-3 py-2">Далее</button>-->
			<button class="btn_our-house btn_call px-3 py-2">Заказать дом под ключ</button>
		</div>
	</div>
</div>
<div class="footer py-5">
	<div class="container">
		<div class="row d-flex justify-content-between">
			<div>
				<div class="ic-log-white"></div>
				<div class="footer-text text-white mt-3">© 2019 “ОО НСТ СК”, Все права защищены</div>
			</div>
			<div>
				<div class="footer-title text-white mb-4">Помощь:</div>
				<a class="footer-text footer-text_link text-white" href="home.html#question">Часто задаваемые вопросы</a>
			</div>
			<div>
				<div class="footer-title text-white mb-4">Адресс:</div>
				<div class="footer-text footer-text_adress text-white">г. Муром ул. Чкалова, дом 4</div>
			</div>
			<div>
				<div class="footer-title text-white mb-4">Телефон:</div>
				<div class="footer-text text-white phone-number">+7 (915) 778 22 60</div>
				<div class="footer-text text-white phone-number">+7 (910) 099 38 81</div>
			</div>
			<div>
				<div class="footer-title text-white mb-4">Email:</div>
				<div class="footer-text text-white">westy12@mail.ru</div>
			</div>
		</div>
	</div>
</div>

<!-- Modal -->
<div class="modal fade" id="modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
	<div class="modal-dialog  modal-lg modal-dialog-centered" role="document">
		<div class="modal-content">
			<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
			</button>
			<div class="modal-body container">
				<div class="row">
					<div class="col-7 pr-0">
						<div class="slider-modal">
							<div class="slider-for mb-3">
							</div>
							<div class="slider-nav w-75 m-auto">
							</div>
						</div>
					</div>
					<div class="col-5 pt-3 pl-4 d-flex flex-column justify-content-around">
						<h3 class="gray-dark_color mb-5 text-center">Проект дома НСТ <span class="number modal_name"></span> </h3>
						<div class="mb-4 d-flex justify-content-between mb-5">
							<div class="d-flex align-items-center">
								<div class="number text-right mr-2">
									<span class="space_text gray-dark_color"></span>м<sup>2</sup>
								</div>
								<div class="space-img"></div>
							</div>
							<div class="mr-4">
								<p class="gray-dark_color">санузел</p>
								<span class="bathroom_text number gray-dark_color"></span>
							</div>
							<div>
								<p class="gray-dark_color">комнат</p>
								<span class="room_text number gray-dark_color"></span>
							</div>
						</div>
						<div class="d-flex justify-content-between mb-4 gray-dark_color">
							<label for="FormControlSelect1">Технология</label>
							<select class="form-control" id="FormControlSelect1">
								<option>Каркас</option>
								<option>Г/Б в монолит. каркасе</option>
								<option>SIP - панели</option>
							</select>
						</div>
						<div class="d-flex justify-content-between mb-5 gray-dark_color">
							<label for="FormControlSelect2">Фундаменты</label>
							<select class="form-control" id="FormControlSelect2">
								<option>Буро набивные сваи</option>
								<option>Свайно - винтовой</option>
							</select>
						</div>
						<div class="d-flex justify-content-end">
							<button class="btn-modal text-white" data-dismiss="modal">Подробнее о доме</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<script>
    let data;
	let id_data;
    $.getJSON("catalog.json", function (res) {
        lenght_data = res.length;
        data = res;
        draw_sliders(data);
    });

    function draw_sliders(data) {
        for (var key in data) {
            $('.block_sliders').append('<div class="col-6 '+ data[key].class_name +' ">' +
                '<div id="carousel_'+key+'" class="carousel slide" data-ride="carousel">' +
                '<div class="carousel-inner">' +
                draw_sliders_item(data[key].slider) +
				'</div>'+
                '</a>' +
                '</div>' +
                '<div>' +
                '<div class="scarlet_color number text-right">' +
                '' + data[key].space +'м<sup>2</sup>' +
                '</div>' +
                '<div class="d-flex align-items-baseline justify-content-between">' +
                '<h3 class="gray-dark_color">Проект дома НСТ <span class="number">'+ data[key].name +'</span> </h3>' +
                '<a class="block-slider-link gray-dark_color" data-id="'+key+'" data-toggle="modal" data-target="#modal">обсудить дом</a>' +
                '</div>' +
                '</div>' +
                '</div>')
        }
	}

	function draw_sliders_item_modalDown(data) {
        let arr_item;
        for (var data_index in data) {
            if ( data_index == 0) {
                arr_item = ('<img class="img_modal-down" src="'+data[data_index]+'" >')
			} else {
                arr_item += ('<img class="img_modal-down" src="'+data[data_index]+'" >');
			}

        }
        return arr_item;
	}

    function draw_sliders_item_modalUp(data) {
        let arr_item;
        for (var data_index in data) {
            if ( data_index == 0) {
                arr_item = ('<img class="img_modal-up" src="'+data[data_index]+'" >')
            } else {
                arr_item += ('<img class="img_modal-up" src="'+data[data_index]+'" >');
            }
        }
        return arr_item;
	}

    function draw_sliders_item(data) {
        let arr_item;
        for (var data_index in data) {
            if ( data_index == 0) {
                arr_item = ('<div class="carousel-item active">'+
                    '<img class="d-block w-100" src="'+data[data_index]+'" >' +
                    '</div>');
            } else  {
                arr_item += ('<div class="carousel-item">'+
                    '<img class="d-block w-100" src="'+data[data_index]+'" >' +
                    '</div>');
            }
        }
        return arr_item;
    }

	$(document).on('click', '.block-slider-link',function () {
	    id_data =  $(this).data("id");
    });

    $('#modal').on('shown.bs.modal', function (e) {
        $('.slider-for').append(draw_sliders_item_modalDown(data[id_data].slider_modal));
		$('.slider-nav').append(draw_sliders_item_modalUp(data[id_data].slider_modal));
		$('.bathroom_text').text(data[id_data].bathroom);
        $('.room_text').text(data[id_data].room);
        $('.space_text').text(data[id_data].space);
		$('.modal_name').text(data[id_data].name);

        $('.slider-for').slick({
            slidesToShow: 1,
            slidesToScroll: 1,
            arrows: false,
            fade: false,
            asNavFor: '.slider-nav'
        });

        $('.slider-nav').slick({
            centerMode: true,
            centerPadding: '60px',
            slidesToShow: 3,
            slidesToScroll: 1,
            asNavFor: '.slider-for',
            dots: true,
            focusOnSelect: true
        });
    });

    $('#modal').on('hidden.bs.modal', function (e) {
        $('.slider-for').slick('unslick').empty();
        $('.slider-nav').slick('unslick').empty();
        $('.bathroom_text').text('');
        $('.room_text').text('');
        $('.space_text').text('');
        $('.modal_name').text('');
	});

	$(document).on('click', '.btn-modal', function (e) {
        $('.lb_call-btn ').trigger('click');
    });

    $('.btn-from-200').on('click', function() {
		$($('.block-tab-home').find($('.active'))).removeClass('active');
		$(this).addClass('active');
		bust_from_200(true);
		bust_to_100(false);
		bust_to_200(false);
	});

	$('.btn-up-to-100').on('click', function() {
		$($('.block-tab-home').find($('.active'))).removeClass('active');
		$(this).addClass('active');
		bust_from_200(false);
		bust_to_100(true);
		bust_to_200(false);
	});

	$('.btn-up-to-200').on('click', function() {
		$($('.block-tab-home').find($('.active'))).removeClass('active');
		$(this).addClass('active');
		bust_from_200(false);
		bust_to_100(false);
		bust_to_200(true);
	});

    $(document).on('click', '.btn_call', function (e) {
        $('.lb_call-btn ').trigger('click');
    });

	function bust_from_200(check) {
        var lenght_from_200 = $('.block-from-200').length;
		if(check) {
			for(var num = 0; num < lenght_from_200; num++) {
				$($('.block-from-200')[num]).removeClass('d-none');
				$($('.block-from-200')[num]).addClass('d-block');
			}
		} else {
			for(var num = 0; num < lenght_from_200; num++) {
				$($('.block-from-200')[num]).addClass('d-none');
				$($('.block-from-200')[num]).removeClass('d-block');
			}
		}
	}

	function bust_to_100(check) {
        var lenght_to_100 = $('.block-up-to-100').length;
		if(check) {
			for(var num = 0; num < lenght_to_100; num++) {
				$($('.block-up-to-100')[num]).removeClass('d-none');
				$($('.block-up-to-100')[num]).addClass('d-block');
			}
		} else {
			for(var num = 0; num < lenght_to_100; num++) {
				$($('.block-up-to-100')[num]).addClass('d-none');
				$($('.block-up-to-100')[num]).removeClass('d-block');
			}
		}
	}

	function bust_to_200(check) {

        var lenght_to_200 = $('.block-up-to-200').length;
		if(check) {
			for(var num = 0; num < lenght_to_200; num++) {
				$($('.block-up-to-200')[num]).removeClass('d-none');
				$($('.block-up-to-200')[num]).addClass('d-block');
			}
		} else {
			for(var num = 0; num < lenght_to_200; num++) {
				$($('.block-up-to-200')[num]).removeClass('d-block');
				$($('.block-up-to-200')[num]).addClass('d-none');
			}
		}
	}
</script>
</body>
</html>